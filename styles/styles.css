@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply font-body bg-white text-lightForeground !important;
  }

  html[class~="dark"] body {
    @apply bg-darkBackground text-white !important;
  }
}

@layer components {
  p,
  ul,
  ol,
  table {
    @apply text-base16 text-lightForeground !important;
  }

  article a {
    @apply text-lightLinks no-underline hover:underline !important;
  }

  [role="tablist"] button[data-headlessui-state="selected"] {
    @apply text-lightLinks border-lightLinks !important;
  }

  .nextra-sidebar-container .active > a {
    @apply text-lightLinks bg-black/10 !important;
  }

  .nextra-toc .nx-text-primary-600 {
    @apply text-lightLinks !important;
  }

  table {
    @apply w-full table !important;
  }

  tr {
    @apply text-base p-4 !important;
  }

  th {
    @apply text-left p-4 leading-[1.15em] font-normal text-base !important;
  }

  td {
    @apply py-2 px-4 text-base !important;
  }

  input {
    @apply p-2 font-semibold;
  }

  img {
    background-color: black;
    border: 1px solid #ccc;
    padding: 1px;
    border-radius: 10px;
  }

  .api-params table {
    width: 100%;
    border-collapse: collapse;
    padding: 0;
    margin: 0;
    position: relative;
  }

  .required,
  .input-error {
    color: red !important;
  }

  .response {
    @apply py-4 text-light bg-darkGray rounded-xl !important;
  }

  .response p {
    @apply text-light !important;
  }

  html[class~="dark"] {
    p,
    ul,
    ol,
    table {
      @apply text-white !important;
    }

    article a {
      @apply text-darkLinks !important;
    }

    [role="tablist"] button[data-headlessui-state="selected"] {
      @apply text-darkLinks border-darkLinks !important;
    }

    .nextra-sidebar-container .active > a {
      @apply text-darkLinks bg-white/10 !important;
    }

    .nextra-toc .nx-text-primary-600 {
      @apply text-darkLinks !important;
    }

    ul li[data-headlessui-state="active"] {
      @apply bg-darkLinks/10 text-darkLinks !important;
    }

    .required,
    .input-error {
      color: red !important;
    }

    .response p {
      @apply text-light !important;
    }

    /* Custom Banner Styling */
    .nextra-banner,
    .nextra-banner-container,
    .nextra-banner-container > div {
      @apply relative overflow-hidden;
      background: #764ba2 !important;
    }

    .nextra-banner::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }

    .nextra-banner button[aria-label="Close banner"] {
      @apply text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200 rounded-md p-1;
    }

    .nextra-banner button[aria-label="Close banner"]:hover {
      @apply scale-110;
    }

    /* Ensure banner works in both light and dark modes */
    html[class~="dark"] .nextra-banner,
    html[class~="dark"] .nextra-banner-container,
    html[class~="dark"] .nextra-banner-container > div {
      background: #764ba2 !important;
    }
  }
}
