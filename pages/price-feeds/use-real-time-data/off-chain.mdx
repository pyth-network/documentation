# How to Use Real-Time Data in Off-Chain Applications

import { Callout } from "nextra/components";

This guide explains how to use the [typescript SDK client](https://github.com/pyth-network/pyth-crosschain/tree/main/price_service/client/js) to fetch the latest prices and subscribe to real-time price updates in off-chain applications.

## Installation

The Pyth SDK can be installed using npm or yarn.

### npm

```
npm install --save @pythnetwork/price-service-client
```

### Yarn

```
yarn add @pythnetwork/price-service-client
```

## Usage

Typical usage of the Pyth SDK involves creating a `PriceServiceConnection` instance, and using it to fetch prices.

```typescript
const connection = new PriceServiceConnection("https://hermes.pyth.network");

const priceIds = [
  "0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43", // BTC/USD price id
  "0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace", // ETH/USD price id
];

// Get the latest values of the price feeds as JSON objects.
const currentPrices = await connection.getLatestPriceFeeds(priceIds);
```

You can also subscribe to real-time price updates over a WebSocket connection using the `subscribePriceFeedUpdates` method.

```typescript
// priceIds here is the one declared in the above code snippet.
const priceFeeds = await connection.getLatestPriceFeeds(priceIds);

connection.subscribePriceFeedUpdates(priceIds, (priceFeed) => {
  // priceFeed here is the same as returned by getLatestPriceFeeds above.
  console.log(
    `Received an update for ${priceFeed.id}: ${priceFeed.getPriceNoOlderThan(
      60
    )}`
  );
});

// When using the subscription, make sure to close the WebSocket upon termination to finish the process gracefully.
setTimeout(() => {
  connection.closeWebSocket();
}, 60000);
```

<Callout type="info" emoji="ℹ️">
  Pyth also provides a [Rust SDK](https://crates.io/crates/pyth-sdk-solana) and
  a [Python SDK](https://github.com/pyth-network/pyth-client-py) for fetching
  prices off-chain.
</Callout>

## Additional Resources

You may find these additional resources helpful.

### Examples

This [example](https://github.com/pyth-network/pyth-crosschain/blob/main/price_service/client/js/src/examples/PriceServiceClient.ts) demonstrates how to use the Pyth SDK to fetch prices.

### Hermes API Reference

The [Hermes API](https://hermes.pyth.network/docs/#/) reference lets you interactively explore the complete API of the Pyth Hermes service.

### Price Feed IDs

The [Price Feed Ids](https://pyth.network/developers/price-feed-ids) lists the price feeds available on the Pyth network.
